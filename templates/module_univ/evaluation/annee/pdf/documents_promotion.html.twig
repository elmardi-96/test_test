<!DOCTYPE html>

<html>
	<head><meta charset="euc-kr">
		<title>Année</title>


	</head>
	<style>
		@page {
			margin: 80px 25px;
		}
		header {
			position: fixed;
			top: -60px;
			left: 0;
			right: 0;
			height: 5%;
			font: 11px 'Helvetica';
			line-height: 14px;
		}
		.td-header {
			font: bold 12px 'Helvetica';
			line-height: 12px;
		}
		.header {
			position: fixed;
			top: -60px;
			left: 0;
			float: right;
			height: 50px;
		}
		footer {
			position: fixed;
			bottom: -60px;
			left: 0;
			right: 0;
			height: 50px;
			border-top: 1px solid #555555;
		}

		body {
			font: 11px 'Helvetica';
			line-height: 14px;
			margin-top: 60px;
		}
		.logo {
			max-width: 250px;
			max-height: 100px;
		}
		.table-content thead tr th {
			text-align: center;
		}
		.table-module thead tr th {
			font: bold 11px 'Helvetica';
			color: #525252;
			line-height: 14px;
			text-align: left;
		}
		.table-semestre thead tr th {
			font: bold 11px 'Helvetica';
			color: #525252;
			line-height: 14px;
			text-align: left;
		}
		.table-semestre {
			width: 100%;
		}

		.table-header label {
			font-size: 12px;
			font-weight: 200;
		}


		.table-content {
			width: 100%;
			font-size: 10px;
			height: 10%;
			border-collapse: collapse;

		}

		.table-content tr {
			border-left: 1px solid #000;
			border-right: 1px solid #000;
		}


		.table-content td {
			padding: 4px;
			border-left: 1px solid #555555;
			border-right: 1px solid #555555;

		}
		.table-content thead {
			background: #555555;
			color: #fff;
			text-align: center;

		}
		.table-module thead {
			background: #fff;

		}
		.table-semestre thead {
			background: #fff;
			border-bottom: 1px solid black;
		}

		.table-content thead th {
			font: bold 13px 'Helvetica';
			text-align: center;
			padding: 4px 2px
		}


		.table-content tbody tr td:nth-child(n + 4) {
			text-align: right;
		}
		.table-module tbody tr td {
			font: bold 7px 'Helvetica';
			line-height: 7px;
			border: none
		}
		.table-module tbody tr th {
			font: 11px 'Helvetica';
			line-height: 14px;
		}
		.table-semestre tbody tr td {
			font: bold 11px 'Helvetica';
			line-height: 14px;
			border-bottom: 1px solid black;
			border-right: none;
			height: 3%;
			border-left: none
		}
		.table-semestre tbody tr th {
			font: 9px 'Helvetica';
			line-height: 12px;
			border-bottom: 1px solid black;
		}

		.table-list {
			text-align: center;
			border-collapse: collapse;
			margin: auto;
			color: black;
			padding: 10px;
			width: 90%
		}
		.table-list thead {
			width: 100%;
			background: #bfbfbf;
			font: bold 9px 'Helvetica';
			line-height: 9px;
		}
		.table-list tbody tr th {
			border: 1px solid #bfbfbf;
			font: normal 9px 'Helvetica';
		}

		.footer {
			font-size: 9px;
			text-align: center;
			font: 11px 'Helvetica';
			line-height: 14px;
			bottom: 60px;
		}
		.footer label {
			padding-left: 10px;
		}
		.page_break {
			page-break-before: always;
		}
	</style>
	<header>

		<table class="table-header">
			<tr>
				<td class="td-header">
					Année Universitaire :
				</td>
				<td>2018/2019</td>
			</tr>
			<tr>
				<td class="td-header">
					Etablissement :
				</td>
				<td>{{promotion.promotion.formation.etablissement ? promotion.promotion.formation.etablissement.designation}}</td>
			</tr>
			<tr>
				<td class="td-header">
					Formation :
				</td>
				<td>{{promotion.promotion.formation ? promotion.promotion.formation.designation}}</td>

			</tr>
			<tr>
				<td class="td-header">
					Promotion :
				</td>
				<td>{{promotion.promotion ? promotion.promotion.designation}}</td>
			</tr>
			<tr>
				<td class="td-header">
					Etat de délibération :
				</td>
				<td>
					Annuel
				</td>
			</tr>
			<tr>
				<td class="td-header">
					Type :
				</td>
				<td>
					{{type2}}
				</td>
			</tr>

		</table>

		<div class="header">
			<img src="{{ asset('img/Logo UIASS_bkack.png')[1:] }}" class="logo" alt="Logo">
		</div>

	</header>
	<body>
		<br>
		<table class="table-content">
			<thead>
				<tr>
					<th style="width:30%">Statuts</th>
					<th style="width:70%">Modules</th>
				</tr>
			</thead>
			<tbody>
				<tr style="font: bold 15px 'Helvetica';">
					<th>
						<table class="table-module">
							<tr>
								<th style="font: bold 15px 'Helvetica';line-height: 18px;">Module</th>
							</tr>
							<thead>
								<tr>
									<th>Abréviation</th>
									<th>Désignation</th>
								</tr>
							</thead>
							<tbody>
								{% for key , statut in statutsModule   %}
									<tr>
										<td>{{ statut.abreviation }}</td>
										<td>{{ statut.designation }}</td>
									</tr>
								{% endfor %}
							</tbody>
						</table>
						<table class="table-module">
							<tr>
								<th style="font: bold 15px 'Helvetica';line-height: 18px;">SEMESTRE</th>
							</tr>
							<thead>
								<tr>
									<th>Abréviation</th>
									<th>Désignation</th>
								</tr>
							</thead>
							<tbody>
								{% for key , statut in statutsSemestre   %}
									<tr>
										<td>{{ statut.abreviation }}</td>
										<td>{{ statut.designation }}</td>
									</tr>
								{%  endfor  %}
							</tbody>
						</table>
						<table class="table-module">
							<tr>
								<th style="font: bold 15px 'Helvetica';line-height: 18px;">ANNEE</th>
							</tr>
							<thead>
								<tr>
									<th>Abréviation</th>
									<th>Désignation</th>
								</tr>
							</thead>
							<tbody>
								{% for key , statut in statutsAnnee   %}
									<tr>
										<td>{{ statut.abreviation }}</td>
										<td>{{ statut.designation }}</td>
									</tr>
								{%  endfor  %}
							</tbody>
						</table>
					</th>
					<th>
						{% for key , semestre in promotion.controleSemestres   %}
							<table class="table-semestre">
								<tr>
									<th style="font: bold 15px 'Helvetica';line-height: 18px;border:none">SEMESTRE
										{{ key+1 }}</th>
								</tr>
								<thead>
									<tr>
										<th>Abréviation</th>
										<th>Désignation</th>
										<th style='color:black'>Signature</th>
									</tr>
								</thead>
								<tbody>


									{% for key1 , controle in semestre.controleModules   %}
										<tr>
											<td>{{ controle.module.code}}</td>
											<td>{{ controle.module.designation}}</td>
											<td></td>
										</tr>
									{% endfor %}

								</tbody>
							</table>
						{% endfor %}

					</th>
				</tr>


			</tbody>
		</table>
		<div class="page_break"></div>


		<table class="table-ttc">
			<tr>
				<th>
					Liste des étudiants
				</th>
			</tr>
		</table><br>


		<table class="table-list">
			<thead>
				<tr>
					<td>ord
					</td>
					<td>Code
					</td>
					{% if type == 'clair' or type == 'normal' %}
						<td>Nom
						</td>
						<td>Prénom</td>
					{% endif %}
					{% if type == 'clair' or type == 'anonymat'%}
						<td>Anonymat</td>
					{% endif %}
					{% for semestre  in promotion.controleSemestres   %}
						{% for control  in semestre.controleModules %}

							<th>{{ control.module.code }}</th>

						{% endfor %}
						<td style="background: #f2f2f2;font: bold 9px 'Helvetica';">{{ semestre.semestre.designation }}
						</td>
						<td style="background: #f2f2f2;font: bold 9px 'Helvetica">Statut</td>
					{% endfor %}
					<td style="background: #525252;color:#fff">Moyenne Validation</td>
					<td style="background: #525252;color:#fff">Moyenne Classement</td>
					<td style="background: #525252;color:#fff">Statut
					</td>
				</tr>
			</thead>
			<tbody>
				{% for key , etudiant in etudiants   %}
					<tr style="font: 50% 'Helvetica';line-height: 9px;">
						<th>{{key+1}}
						</th>
						<th>{{etudiant.inscription.code}}
						</th>
						{% if type == 'clair' or type == 'normal' %}
							<th>{{etudiant.inscription.nom}}
							</th>
							<th>{{etudiant.inscription.prenom}}</th>
						{% endif %}
						{% if type == 'clair' or type == 'anonymat'%}
							<th>{{etudiant.inscription.anonymat}}</th>
						{% endif %}
						{% if  etudiant.semestres is defined %}
						{% for semestre  in etudiant.semestres   %}
							{% for module  in semestre.modules   %}


								<th>{{ module.note|number_format(2)}}
									{% if type2 == 'interne' %}
										{{ module.statut_def }}
									{% else %}
										{{ module.statut_aff }}
									{% endif %}
								</th>

								<th style="background: #f2f2f2;font: bold 9px 'Helvetica';">{{semestre.note|number_format(2)}}
								</th>
								<th style="background: #f2f2f2;font: bold 9px 'Helvetica">

									{% if type2 == 'interne' %}
										{{ semestre.statut_def }}
									{% else %}
										{{ semestre.statut_aff }}
									{% endif %}
								</th>
							{% endfor %}
						{% endfor %}
						{% endif %}	

						<th style="background: #d8d8d8;font: bold 9px 'Helvetica">{{etudiant.moyenne}}</th>
						<th style="background: #d8d8d8;font: bold 9px 'Helvetica">{{etudiant.moyenne_normale}}</th>
						<th style="background: #d8d8d8;font: bold 9px 'Helvetica">
							{% if type2 == 'interne' %}
								{{ etudiant.statut_def }}
							{% else %}
								{{ etudiant.statut_aff }}
							{% endif %}

						</th>
					</tr>
				{% endfor %}

			</tbody>
		</table><br>

	</body>

	<footer>
		<div class="footer">

			<p>B.P. 6533, Avenue Allal El Fassi,Madinat Al Irfane, Rabat 10 000. Maroc - Web : www.uiass.ma - Contact : contact@uiass.ma<br>
				Tel : +212 5 37 68 70 20 / 21 / 22 - Fax : +212 5 37 77 01 06</p>
		</div>
	</footer>

</html>
