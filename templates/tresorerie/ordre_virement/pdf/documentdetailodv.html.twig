<!DOCTYPE html>
<html>
	<head><meta charset="fr">
		<title>Detail odv</title>
	</head>
	<style>
		@page {
			margin: 0 20px 210px !important;
			padding: 0 !important;
		}
		body {
			font-family: 'Courier';
			font-size: 13px;
		}
		.header {
			{
				# top: -280px; #
			}
			left: 0;
			right: 0;
		}

		.logo {
			max-width: 250px;
			max-height: 100px;
			text-align: right;
		}
		.footer {
			/*border-top: 2px solid #555555;*/
			margin-top: 10px;
			font-size: 9px;
			text-align: center;
			position: fixed;
			bottom: 3px;
			left: 0;
			right: 0;
		}

		* {
			font-family: Courier, sans-serif;
			text-transform: uppercase;

		}

		main {
			margin-top: 0;
		}
	</style>

	<body>
		{# ------------- HEADER ---------------------- #}

		<div class="header">
			<table style="width: 100%; margin: 20px 0px" align="center" cellspacing="0">
				<tr>
					<td style="width: 35%; text-align: left">
						<div style="line-height: 15px">
							<span style="font-size: 11px;text-transform: uppercase;font-weight: bold;">
								{{ cab.dossier.titre|upper }}
							</span><br/>
							<span style="font-size: 9px">{{ cab.dossier.adresse}}</span><br/>
							<span style="font-size: 9px">Tel :{{ cab.dossier.tel}}</span><br/>
							<span style="font-size: 9px">Fax :{{ cab.dossier.tel}}</span><br/>
						</div>
					</td>
					<td style="width: 65%; text-align: right">
						<img src="{{ asset(image)[1:] }}" width="{{ cab.dossier.WidthLogo }}" height="{{ cab.dossier.HeightLogo }}" class="logo" alt="Logo"/>
					</td>
				</tr>
			</table>

			{# <table style="width: 100%;text-align: center;border: 0.3px solid #292929;">
				<tr>
					<td style="width: 30%">
						<table style="width: 100%; text-align: center">
							<tr>
								<th style="width: 100%; font-size: 11px; font-weight: 200">
									DATE DEMANDE
								</th>
							</tr>
							<tr>
								<td style="border-bottom: solid 0.3px #292929; width: 100%"></td>
							</tr>
							<tr>
								<td style="width: 100%; font-size: 11px; font-weight: bold">

									{{ cab.date ? cab.date | date("d/m/Y") :  cab.dateValider | date("d/m/Y")  }}

								</td>

							</tr>
						</table>
					</td>
					<td style="width: 40%;font-size: 16px;font-weight: bold;border: 0.3px solid #292929;border-bottom: none;border-top: none;">
						Detail odv
					</td>
					<td style="width: 30%; text-align: center">
						<table style="width: 100%; background: #ffffff; text-align: center">
							<tr>
								<th style="width: 100%; font-size: 11px; font-weight: 200">
									N° DEMANDE
								</th>
							</tr>
							<tr>
								<td style="border-bottom: solid 0.3px #292929; width: 100%"></td>
							</tr>
							<tr>
								<td style="width: 100%; font-size: 11px; font-weight: bold">
									{{code_bq}}
								</td>
							</tr>
						</table>
					</td>
				</tr>
			</table> #}
			<table style=" width: 100%; text-align: center; " >
                <tr>
                <td style="width: 80%">
                    <table style="width: 100%; text-align: start;margin-top:-38px;">
					<td style="width: 80%;font-size: 30px;font-weight: bold;">
					{{"Detail odv"|upper }}
	                </td>
				
					 
                    </table>
                </td>
                <td style="width: 40%;font-size: 16px;font-weight: bold;border-bottom: none;border-top: none;">
                </td>
                <td>
                    <table style="">
					 <tr>
                        <th >
                     	{{barcode|raw}} 
                        </th>
                    </tr>
					 <tr>
                        <td style="width: 100%; font-size: 11px;">
                  <b>REF&nbsp; : </b>     {{ code_bq|upper }} 
                        </td>
                    </tr>
                    <tr>
                        <td
                        style=" width: 100%"></td>
                    </tr>
                    <tr>
                        <td style="width: 100%; font-size: 11px;">
                  <b>DATE  :  </b>    {{ cab.date ? cab.date | date("d/m/Y") :  cab.dateValider | date("d/m/Y")  }}
                        </td>
                    </tr>
                    </table>
                </td>
                </tr>
            </table>

			{# -------------------------END HEADER --------------------------- #}
			{#-------------------------FOOTER --------------------------- #}
			<div>
				<div class="footer">
					<div style="height:60%;"></div>
					<br/>
					<div style="position: relative;left: 5%;width: 90%;border-top: 0.3px solid #000;padding: 5px;text-align: center;font-size: 11px;">
						{% if cab.dossier %}
							{% if cab.dossier.adresse %}
								{{
                    cab.dossier.adresse|upper }}
							{% endif %}
						{% endif %}
					</div>
				</div>
			</div>
		</div>

		{# -------------------------FOOTER --------------------------- #}


		<main>
			{# <table cellspacing="0" style="width: 100%; text-align: left; font-size: 9px;margin-top:20;">
																<tr>
																	<td style="width: 100%;">
																		<span style="font-weight:bold">
																			Référence Livraion :
																		</span>
																	</td>
																	<td style="width:0%;"></td>
																	<td style="width: 100% ;">
																		<span style="font-weight:bold">
																			Référence Demande d'achat :
																		</span>
																	</td>
																	<td style="width: 0%;"></td>
																</tr>
												
																<tr style="line-height: 20px;">
																	<td style="width: 100%;">
																		<span style="font-weight:bold">
																			Référence Document :
																			{{cab.refDocAsso}}</span>
																	</td>
																	<td style="width: 0%;"></td>
																	<td style="width: 100%;">
																		<span style="font-weight:bold">Date Référence Fournisseur :
																			{{ cab.dateDocAsso | date("d/m/Y") }}</span>
																	</td>
																	<td style="width: 0%;"></td>
																</tr>
																<tr style="line-height: 20px;">
																	<td style="width: 100%;">
																		<span style="font-weight:bold"></span>
																	</td>
																	<td style="width: 0%;"></td>
																	<td style="width: 100%;">
																		<span style="font-weight:bold"></span>
																	</td>
																	<td style="width: 0%;"></td>
																</tr> 
															</table>
															<br>#}
			{# strat content #}
			<br>
			<br>
			<br>
				<table
				class="" style="width: 100% ;" cellspacing="0"> {# test #}
				{% for item in TrTransactions %}
					<thead>

						<tr style="color:black; font-size: 11px;">

							<th style="width: 70%;padding: 3px;padding-left:20px">nom fournisseur :{{item.Fournisseur.nom }}</th>

							<th style="width: 10%;padding: 3px;text-align: center;"></th>
							<th style="width: 20%;padding: 3px;text-align: right;padding-right:40px">{{item.montant|replace({'-': ''})|number_format(2, ',', ' ')}} </th>
						</tr>

					</thead>

					<tbody>
						{# {% for row in item.operations %} #}
							<tr>
								{% if item.operation.factureFournisseur is not  null %}
									<td style="color:#505050;width: 5%;text-transform: uppercase; padding: 3px;font-size: 10px;text-align: left;padding-left:50px;font-weight: bold;">{{ item.operation.factureFournisseur.code}}</td>
                                    <td style="width: 5%;text-transform: uppercase; padding: 3px;font-size: 10px;text-align: center"></td>
								    <td style="color:#505050;width: 65%;text-transform: uppercase; padding: 3px;font-size: 10px;text-align: right;font-weight: bold;padding-right:43px">{{ item.operation.factureFournisseur.montant|number_format(2, ',', ' ')}}</td>
								 {% elseif  item.operation.factureClient is not null %} 
									<td style="color:#505050;width: 5%;text-transform: uppercase; padding: 3px;font-size: 10px;text-align: left;font-weight: bold;">{{ item.operation.factureFournisseur.code}}</td>
                                    <td style="color:#505050;width: 5%;text-transform: uppercase; padding: 3px;font-size: 10px;text-align: center"></td>
								    <td style="color:#505050;width: 65%;text-transform: uppercase; padding: 3px;font-size: 10px;text-align: right;font-weight: bold;">{{ item.operation.factureFournisseur.montant|number_format(2, ',', ' ')}}</td>
								{% else %}
                                    <td style="color:#505050;width: 5%;text-transform: uppercase; padding: 3px;font-size: 10px;text-align: left;font-weight: bold;">{{ item.operation.code}}</td>
                                    <td style="color:#505050;width: 5%;text-transform: uppercase; padding: 3px;font-size: 10px;text-align: center"></td>
                                    <td style="color:#505050;width: 65%;text-transform: uppercase; padding: 3px;font-size: 10px;text-align: right;font-weight: bold;">{{ item.operation.montant}}</td>
                                {% endif %}
							</tr>
						{# {% endfor %} #}
            
						{% if item.operation.factureFournisseur is not  null %}
                                {% for detail in item.operation.factureFournisseur.details %}
                                <tr>
                                    <td style="color:#606060;width: 5%;text-transform: uppercase; padding: 3px;font-size: 10px;text-align: left;padding-left:80px">{{detail.article.titre}}</td>
                                    <td style="color:#606060;width: 5%;text-transform: uppercase; padding: 3px;font-size: 10px;text-align: left"></td>
                                    <td style="color:#606060;width: 65%;text-transform: uppercase; padding: 3px;font-size: 10px;text-align: right"></td>
                                </tr>
                                    
                                {% endfor %}
                                
							
						</tr>
                        {% elseif item.operation.factureClient is not null  %}
                           {% for detail in item.operation.factureFournisseur.details %}
                                <tr>
                                    <td style="color:#606060;width: 5%;text-transform: uppercase; padding: 3px;font-size: 10px;text-align: left;padding-left:80px">{{detail.article.titre}}</td>
                                    <td style="color:#606060;width: 5%;text-transform: uppercase; padding: 3px;font-size: 10px;text-align: center"></td>
                                    <td style="color:#606060;width: 65%;text-transform: uppercase; padding: 3px;font-size: 10px;text-align: right"></td>
                                </tr>
                                    
                                {% endfor %}
                        {% else %}
                           <tr>
							<td style="color:#606060;width: 5%;text-transform: uppercase; padding: 3px;font-size: 9px;text-align: left;padding-left:80px">{{item.operation.code}}</td>
							<td style="color:#606060;width: 5%;text-transform: uppercase; padding: 3px;font-size: 9px;text-align: center"></td>
							<td style="color:#606060;width: 65%;text-transform: uppercase; padding: 3px;font-size: 9px;text-align: right">{{item.operation.autreinformation}}</td>
						</tr>
                        {% endif %}

						
					</tbody>
				{% endfor %}

			</table>
			{# strat content #}


		</main>
	</body>
</html>
